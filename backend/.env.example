PORT=5000
# REQUIRED: JWT_SECRET must be at least 32 characters for production (validated at startup)
JWT_SECRET=your_jwt_secret_here_minimum_32_characters_for_security
ACCESS_EXPIRES=15m
PASSWORD_PEPPER=u293812aksjxc!
# REQUIRED: MongoDB connection string (validated at startup)
MONGODB_URI=mongodb://localhost:27017/canvietexchange
FRONTEND_URL=http://localhost:3000
DB_REQUIRED=false
DB_MAX_RETRIES=3
DB_RETRY_DELAY_MS=1000
DB_SELECTION_TIMEOUT_MS=5000

# --- Email (SMTP) ---
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=465
EMAIL_USER=example@domain.com
EMAIL_APP_PASSWORD=your_email_app_password_here
EMAIL_FROM=CanViet Exchange <no-reply@canviet.exchange>
# In dev, mock SMTP (no network calls). When true, verify/sendMail will succeed without contacting a server.
EMAIL_DEV_MODE=false

# --- Google OAuth ---
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here
GOOGLE_CALLBACK_URL=http://localhost:5000/api/auth/google/callback

GOOGLE_OAUTH_CLIENT_ID=your_google_client_id_here
GOOGLE_OAUTH_CLIENT_SECRET=your_google_client_secret_here
# IMPORTANT: Callback must include "/api" since routes are mounted under /api/auth
GOOGLE_OAUTH_REDIRECT_URI=http://localhost:5000/api/auth/google/callback

# --- Google Maps API Key ---
GOOGLE_MAP_API_KEY=your_google_maps_api_key_here


# --- OTP settings ---
OTP_LENGTH=6
OTP_TTL_SECONDS=300
OTP_MAX_ATTEMPTS=4

# --- Rate limits (requests per window) ---
RATE_LOGIN_MAX=10
RATE_REGISTER_MAX=20
RATE_TRANSFER_MAX=10
RATE_PAYMENT_MAX=20
RATE_REFERRAL_MAX=100


# --- API Exchange Key ---
EXCHANGE_API_KEY=your_api_exchange_key_here
# Business margin added to CAD->VND rate (in VND). Adjust as needed.
# Example: `ADD_MARGIN_RATE=50` will add +50 VND to the calculated rate.
ADD_MARGIN_RATE=50

# --- Twilio  ---
TWILIO_2FA_RECOVERY_CODE=your_twilio_2fa_recovery_code_here
TWILIO_ACCOUNT_SID=your_twilio_account_sid_here
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here
TWILIO_PHONE_NUMBER=your_twilio_phone_number_here
TWILIO_MESSAGING_SERVICE_SID=your_twilio_messaging_service_sid_here
# Enable Twilio Lookup v2 API to validate phone numbers before sending SMS (prevents charges for invalid numbers)
# Basic Lookup (validation only) is FREE, line_type_intelligence costs $0.005 per lookup
# Set to 'true' to enable phone validation, 'false' to skip (default: false)
TWILIO_ENABLE_LOOKUP=true
# --- Shufti Pro KYC ---
SHUFTI_VERIFICATION_URL=your_shufti_verification_url_here
SHUFTI_SECRET_KEY=your_shufti_secret_key_here
SHUFTI_CLIENT_ID=your_shufti_client_id_here

# --- Stripe Payment Processing ---
# REQUIRED: Stripe secret key for payment processing (validated at startup)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here

# --- Trustpilot Integration ---
# Email address for BCC on completed transfers (for review invitations)
TRUSTPILOT_INVITE_EMAIL=canvietexchange.com+61a7cdf283@invite.trustpilot.com

# --- Email Service Configuration ---
# REQUIRED: Email credentials (validated at startup)
CANVIETEXCHANGE_EMAIL_USER=your_email@gmail.com
CANVIETEXCHANGE_EMAIL_APP_PASSWORD=your_app_specific_password
# Optional: CC address for admin notifications
CANVIETEXCHANGE_NOTIFY_CC=admin@canvietexchange.com

# --- Environment ---
NODE_ENV=development
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here

